{"version":3,"sources":["firebase.js","actions/index.js","reducers/app.js","data/evidences.js","data/ghosts.js","data/quests.js","utils/session.js","utils/evidences.js","utils/misc.js","reducers/picker.js","reducers/loader.js","reducers/index.js","services/firebaseData.js","selectors/index.js","sagas/index.js","store.js","components/LangSwitch/styles.js","components/LangSwitch/LangSwitch.jsx","components/Header/styles.js","components/Header/index.jsx","components/Picker/Buttons/styles.js","components/Picker/Buttons/CustomButton.jsx","components/Picker/Buttons/EvidenceButton.jsx","components/Picker/GhostCard/styles.js","components/Picker/GhostCard/index.jsx","components/Picker/Buttons/QuestButton.jsx","components/Picker/styles.js","components/Picker/index.jsx","data/questions.js","components/Questions/styles.js","components/Questions/index.jsx","components/Loader/styles.js","components/Loader/index.jsx","components/Login/styles.js","components/Login/index.jsx","components/theme.js","components/App.jsx","index.jsx"],"names":["analytics","enterApp","page","sessionId","type","setSessionKey","sessionKey","setClientId","clientId","changePage","setPickerState","data","key","setAppLang","newLang","defaultState","lang","app","state","action","EMF","DOTS","localizedMessageId","color","ghosts","name","evidences","strength","weakness","cookies","Cookies","setSessionId","value","set","maxAge","getSessionById","id","objects","find","el","saveUserLanguage","getUserLanguage","langFromCookies","get","navigator","language","userLanguage","split","getEvidenceNameByKey","evidence","EVIDENCES","e","filterGhostsByEvidences","filter","ghost","difference","length","generateUuid","customAlphabet","nanoid","generateTimestamp","moment","utc","format","selectedEvidences","evidenceButtons","forEach","prepareDefaultEvidenceState","questButtons","quests","QUESTS","quest","prepareDefaultQuestState","talksToEveryOne","ghostName","clients","picker","isActive","updatedButtonsState","push","filteredGhosts","remove","loader","combineReducers","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseDB","database","ref","orderByChild","equalTo","once","session","last_updated","child","update","pageSelector","sessionIdSelector","sessionKeySelector","clientIdSelector","clientsSelector","isActiveButtonSelector","pickerStateSelector","removeSession","handlePickerChange","init","updateUserLang","rootSaga","updateDebounced","debounce","firebaseDataService","updateSession","createPickerStateObject","call","val","Object","keys","put","select","objectToStore","createSession","newSessionKey","userLang","takeEvery","takeLatest","configureStore","sagaMiddleware","createSagaMiddleware","store","createStore","reducer","applyMiddleware","run","makeStyles","wrapper","height","alignItems","menuButton","borderRadius","LangSwitch","useState","anchorEl","setAnchorEl","css","useStyles","dispatch","useDispatch","formatMessage","useIntl","handleClose","handleMenuItemClick","className","Tooltip","title","IconButton","onClick","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","dense","header","display","width","background","justifyContent","position","zIndex","navWrapper","flexWrap","sessionWrapper","sessionIdWrapper","marginRight","headerButton","btnActive","borderBottom","Header","resetSession","useSelector","copyHintText","setCopyHintText","handleChangePage","newPage","Typography","Button","clipboardCopy","then","setTimeout","button","props","margin","buttonSelected","CustomButton","text","handleClick","EvidenceButton","root","padding","content","accent","subHeader","GhostCard","isOpen","setIsOpen","useEffect","Fade","in","timeout","Box","variant","map","includes","QuestButton","palette","flexDirection","minHeight","primary","main","contrastText","inputWrapper","evidencesButtonsWrapper","ghostsWrapper","alignContent","noEvidenceWrapper","marginTop","Picker","pickerState","logEvent","page_title","onUnload","window","addEventListener","removeEventListener","getRef","on","handleEvidenceButtonClick","filterGhosts","handleQuestButtonClick","updateSelectedQuests","Slide","direction","mountOnEnter","unmountOnExit","TextField","label","onChange","target","updateGhostName","updateAnswersEveryoneButton","isEmpty","SPIRIT_BOX","category","questions","OUIJA_BOARD","overflowX","pageLabel","questionsWrapper","toolWrapper","toolHeader","textAlign","toolContent","categoryTitle","categoryWrapper","Questions","renderCategory","useCallback","block","q","QUESTIONS","activeAbsolute","backgroundColor","activeBox","disabled","Loader","isShown","loaderStateSelector","wrapperStyle","LinearProgress","CircularProgress","subWrapper","submitButton","langSwitchWrapper","right","bottom","Login","changeSessionId","setSession","error","setError","isJoinButtonPressed","setIsJoinButtonPressed","sessionIdCookie","handleClickJoin","helperText","test","Divider","preventDefault","createMuiTheme","grey","secondary","overrides","MuiTypography","body1","fontFamily","h3","h4","h5","h6","App","currentLangSelector","handleSessionReset","messages","langEN","langRU","setUpMessagesLocale","locale","defaultLocale","ThemeProvider","theme","renderPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45e6ac80.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/analytics';\n\nimport { isDevEnv } from './utils';\n\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_API_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSANGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APPID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\n\nfirebase.initializeApp(config);\n\n// eslint-disable-next-line import/no-mutable-exports\nlet analytics;\n\nif (isDevEnv()) {\n  analytics = {\n    logEvent: (eventName, options) => console.log('Mocked analytics request:', eventName, options),\n  };\n} else {\n  analytics = firebase.analytics();\n}\n\nexport const firebaseDB = firebase.database();\nexport { analytics };\n","export const INIT_APP = 'INIT_APP';\nexport const initApp = () => ({ type: INIT_APP });\n\nexport const ENTER_APP = 'ENTER_APP';\nexport const enterApp = (page, sessionId) => ({\n  type: ENTER_APP,\n  page,\n  sessionId,\n});\n\nexport const SET_SESSION_KEY = 'SET_SESSION_KEY';\nexport const setSessionKey = (sessionKey) => ({\n  type: SET_SESSION_KEY,\n  sessionKey,\n});\n\nexport const SET_CLIENT_ID = 'SET_CLIENT_ID';\nexport const setClientId = (clientId) => ({\n  type: SET_CLIENT_ID,\n  clientId,\n});\n\nexport const RESET_SESSION = 'RESET_SESSION';\nexport const resetSession = () => ({ type: RESET_SESSION });\n\nexport const RESET_SESSION_COMPLETE = 'RESET_SESSION_COMPLETE';\nexport const resetSessionComplete = () => ({ type: RESET_SESSION_COMPLETE });\n\nexport const CHANGE_PAGE = 'CHANGE_PAGE';\nexport const changePage = (page) => ({\n  type: CHANGE_PAGE,\n  page,\n});\n\nexport const FILTER_GHOSTS = 'FILTER_GHOSTS';\nexport const filterGhosts = (evidence, isActive) => ({\n  type: FILTER_GHOSTS,\n  evidence,\n  isActive,\n});\n\nexport const UPDATE_SELECTED_QUESTS = 'UPDATE_SELECTED_QUESTS';\nexport const updateSelectedQuests = (quest, isActive) => ({\n  type: UPDATE_SELECTED_QUESTS,\n  quest,\n  isActive,\n});\n\nexport const UPDATE_GHOST_NAME = 'UPDATE_GHOST_NAME';\nexport const updateGhostName = (name) => ({\n  type: UPDATE_GHOST_NAME,\n  name,\n});\n\nexport const UPDATE_ANSWERS_EVERYONE_BUTTON = 'UPDATE_ANSWERS_EVERYONE_BUTTON';\nexport const updateAnswersEveryoneButton = (isActive) => ({\n  type: UPDATE_ANSWERS_EVERYONE_BUTTON,\n  isActive,\n});\n\nexport const RESET_PICKER = 'RESET_PICKER';\nexport const resetPicker = () => ({ type: RESET_PICKER });\n\nexport const SET_PICKER_STATE = 'SET_PICKER_STATE';\nexport const setPickerState = (data, key) => ({\n  type: SET_PICKER_STATE,\n  data,\n  key,\n});\n\nexport const SHOW_LOADER = 'SHOW_LOADER';\nexport const showLoader = () => ({ type: SHOW_LOADER });\n\nexport const HIDE_LOADER = 'HIDE_LOADER';\nexport const hideLoader = () => ({ type: HIDE_LOADER });\n\nexport const SET_APP_LANG = 'SET_APP_LANG';\nexport const setAppLang = (newLang) => ({ type: SET_APP_LANG, newLang });\n","import {\n  CHANGE_PAGE, ENTER_APP, RESET_SESSION_COMPLETE,\n  SET_SESSION_KEY, SET_CLIENT_ID, SET_APP_LANG,\n} from '../actions';\n\nconst defaultState = {\n  page: '',\n  sessionId: '',\n  sessionKey: null,\n  clientId: null,\n  lang: 'en',\n};\n\nconst app = (state = defaultState, action) => {\n  switch (action.type) {\n    case CHANGE_PAGE: {\n      const { page } = action;\n\n      return ({\n        ...state,\n        page,\n      });\n    }\n\n    case ENTER_APP: {\n      const { page, sessionId } = action;\n\n      return ({\n        ...state,\n        page,\n        sessionId,\n      });\n    }\n\n    case SET_CLIENT_ID: {\n      const { clientId } = action;\n\n      return {\n        ...state,\n        clientId,\n      };\n    }\n\n    case RESET_SESSION_COMPLETE: {\n      return defaultState;\n    }\n\n    case SET_SESSION_KEY: {\n      const { sessionKey } = action;\n\n      return {\n        ...state,\n        sessionKey,\n      };\n    }\n\n    case SET_APP_LANG: {\n      const { newLang } = action;\n\n      return {\n        ...state,\n        lang: newLang,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default app;\n","export const EMF = 'EMF';\nexport const FINGERPRINTS = 'FINGERPRINTS';\nexport const TEMPERATURE = 'TEMPERATURE';\nexport const GHOST_WRITING = 'GHOST_WRITING';\nexport const SPIRIT_BOX = 'SPIRIT_BOX';\nexport const GHOST_ORB = 'GHOST_ORB';\nexport const DOTS = 'DOTS';\n\nexport default [\n  {\n    key: EMF,\n    localizedMessageId: 'evidence.emf',\n    color: 'red',\n  },\n  {\n    key: FINGERPRINTS,\n    localizedMessageId: 'evidence.fingerprints',\n    color: 'green',\n  },\n  {\n    key: TEMPERATURE,\n    localizedMessageId: 'evidence.temperature',\n    color: 'dodgerblue',\n  },\n  {\n    key: GHOST_WRITING,\n    localizedMessageId: 'evidence.ghostWriting',\n    color: 'purple',\n  },\n  {\n    key: SPIRIT_BOX,\n    localizedMessageId: 'evidence.spiritBox',\n    color: 'cadetblue',\n  },\n  {\n    key: GHOST_ORB,\n    localizedMessageId: 'evidence.ghostOrb',\n    color: 'brown',\n  },\n  {\n    key: DOTS,\n    localizedMessageId: 'evidence.dots',\n    color: 'white',\n  },\n];\n","import {\n  EMF, FINGERPRINTS, TEMPERATURE, DOTS,\n  GHOST_WRITING, GHOST_ORB, SPIRIT_BOX,\n} from './evidences';\n\nconst ghosts = [\n  {\n    name: 'ghost.banshee.name',\n    evidences: [FINGERPRINTS, GHOST_ORB, DOTS],\n    strength: 'ghost.banshee.strength',\n    weakness: 'ghost.banshee.weakness',\n  },\n\n  {\n    name: 'ghost.demon.name',\n    evidences: [FINGERPRINTS, GHOST_WRITING, TEMPERATURE],\n    strength: 'ghost.demon.strength',\n    weakness: 'ghost.demon.weakness',\n  },\n\n  {\n    name: 'ghost.jinn.name',\n    evidences: [EMF, FINGERPRINTS, TEMPERATURE],\n    strength: 'ghost.jinn.strength',\n    weakness: 'ghost.jinn.weakness',\n  },\n\n  {\n    name: 'ghost.mare.name',\n    evidences: [SPIRIT_BOX, GHOST_ORB, GHOST_WRITING],\n    strength: 'ghost.mare.strength',\n    weakness: 'ghost.mare.weakness',\n  },\n\n  {\n    name: 'ghost.oni.name',\n    evidences: [EMF, TEMPERATURE, DOTS],\n    strength: 'ghost.oni.strength',\n    weakness: 'ghost.oni.weakness',\n  },\n\n  {\n    name: 'ghost.phantom.name',\n    evidences: [SPIRIT_BOX, FINGERPRINTS, DOTS],\n    strength: 'ghost.phantom.strength',\n    weakness: 'ghost.phantom.weakness',\n  },\n\n  {\n    name: 'ghost.poltergeist.name',\n    evidences: [SPIRIT_BOX, FINGERPRINTS, GHOST_WRITING],\n    strength: 'ghost.poltergeist.strength',\n    weakness: 'ghost.poltergeist.weakness',\n  },\n\n  {\n    name: 'ghost.revenant.name',\n    evidences: [GHOST_ORB, GHOST_WRITING, TEMPERATURE],\n    strength: 'ghost.revenant.strength',\n    weakness: 'ghost.revenant.weakness',\n  },\n\n  {\n    name: 'ghost.shade.name',\n    evidences: [EMF, GHOST_WRITING, TEMPERATURE],\n    strength: 'ghost.shade.strength',\n    weakness: 'ghost.shade.weakness',\n  },\n\n  {\n    name: 'ghost.spirit.name',\n    evidences: [EMF, SPIRIT_BOX, GHOST_WRITING],\n    strength: 'ghost.spirit.strength',\n    weakness: 'ghost.spirit.weakness',\n  },\n\n  {\n    name: 'ghost.wraith.name',\n    evidences: [EMF, SPIRIT_BOX, DOTS],\n    strength: 'ghost.wraith.strength',\n    weakness: 'ghost.wraith.weakness',\n  },\n\n  {\n    name: 'ghost.yurei.name',\n    evidences: [GHOST_ORB, TEMPERATURE, DOTS],\n    strength: 'ghost.yurei.strength',\n    weakness: 'ghost.yurei.weakness',\n  },\n\n  {\n    name: 'ghost.yokai.name',\n    evidences: [SPIRIT_BOX, GHOST_ORB, DOTS],\n    strength: 'ghost.yokai.strength',\n    weakness: 'ghost.yokai.weakness',\n  },\n\n  {\n    name: 'ghost.hantu.name',\n    evidences: [FINGERPRINTS, GHOST_ORB, TEMPERATURE],\n    strength: 'ghost.hantu.strength',\n    weakness: 'ghost.hantu.weakness',\n  },\n\n  {\n    name: 'ghost.goryo.name',\n    evidences: [EMF, FINGERPRINTS, DOTS],\n    strength: 'ghost.goryo.strength',\n    weakness: 'ghost.goryo.weakness',\n  },\n\n  {\n    name: 'ghost.myling.name',\n    evidences: [EMF, FINGERPRINTS, GHOST_WRITING],\n    strength: 'ghost.myling.strength',\n    weakness: 'ghost.myling.weakness',\n  },\n];\n\nexport default ghosts;\n","const PHOTO = 'PHOTO';\nconst EVENT = 'EVENT';\nconst MOTION = 'MOTION';\nconst TEMPERATURE = 'TEMPERATURE';\nconst CRUCIFIX = 'CRUCIFIX';\nconst EMF = 'EMF';\nconst SMUDGE = 'SMUDGE';\nconst CANDLE = 'CANDLE';\nconst SALT = 'SALT';\nconst SANITY = 'SANITY';\nconst HUNT = 'HUNT';\nconst REPEL = 'REPEL';\n\nexport default [\n  {\n    key: PHOTO,\n    localizedMessageId: 'quests.photo',\n  },\n  {\n    key: EVENT,\n    localizedMessageId: 'quests.event',\n  },\n  {\n    key: MOTION,\n    localizedMessageId: 'quests.motion',\n  },\n  {\n    key: TEMPERATURE,\n    localizedMessageId: 'quests.temperature',\n  },\n  {\n    key: CRUCIFIX,\n    localizedMessageId: 'quests.crucifix',\n  },\n  {\n    key: EMF,\n    localizedMessageId: 'quests.emf',\n  },\n  {\n    key: SMUDGE,\n    localizedMessageId: 'quests.smudge',\n  },\n  {\n    key: CANDLE,\n    localizedMessageId: 'quests.candle',\n  },\n  {\n    key: SALT,\n    localizedMessageId: 'quests.salt',\n  },\n  {\n    key: SANITY,\n    localizedMessageId: 'quests.sanity',\n  },\n  {\n    key: HUNT,\n    localizedMessageId: 'quests.hunt',\n  },\n  {\n    key: REPEL,\n    localizedMessageId: 'quests.repel',\n  },\n];\n","import { find } from 'lodash';\nimport Cookies from 'universal-cookie';\n\nconst cookies = new Cookies();\n\nexport const setSessionId = (value) => {\n  cookies.set('sessionId', value, { maxAge: 28800 });\n};\n\nexport const getSessionId = () => cookies.get('sessionId');\n\nexport const resetSessionId = () => cookies.remove('sessionId');\n\nexport const getSessionById = (id, objects) => (\n  find(objects, (el) => el.sessionId === id) || null\n);\n\nexport const saveUserLanguage = (lang) => {\n  cookies.set('userLang', lang, { maxAge: 28800 });\n};\n\nexport const getUserLanguage = () => {\n  const langFromCookies = cookies.get('userLang');\n\n  if (langFromCookies) {\n    return langFromCookies;\n  }\n\n  const fullLang = navigator.language || navigator.userLanguage;\n  const lang = fullLang.split('-');\n  return lang[0];\n};\n","import EVIDENCES from '../data/evidences';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getEvidenceNameByKey = (key) => {\n  const evidence = EVIDENCES.find((e) => e.key === key);\n  if (evidence) {\n    return evidence.localizedMessageId;\n  }\n\n  return undefined;\n};\n","import { difference, filter } from 'lodash';\nimport { customAlphabet } from 'nanoid';\nimport moment from 'moment';\n\nexport const filterGhostsByEvidences = (ghosts, evidences) => (\n  filter(ghosts, (ghost) => difference(evidences, ghost.evidences).length === 0)\n);\n\nexport const generateUuid = () => {\n  const nanoid = customAlphabet('0123456789', 6);\n  return nanoid();\n};\n\nexport const generateTimestamp = () => moment.utc().format();\n\nexport const isDevEnv = () => process.env.REACT_APP_ENV === 'dev';\n","import { get, remove } from 'lodash';\n\nimport {\n  FILTER_GHOSTS, UPDATE_SELECTED_QUESTS,\n  UPDATE_GHOST_NAME, RESET_PICKER, UPDATE_ANSWERS_EVERYONE_BUTTON,\n  SET_PICKER_STATE,\n} from '../actions';\n\nimport ghosts from '../data/ghosts';\n\nimport EVIDENCES from '../data/evidences';\nimport QUESTS from '../data/quests';\n\nimport { filterGhostsByEvidences } from '../utils';\n\nconst prepareDefaultEvidenceState = () => {\n  let evidences;\n  EVIDENCES.forEach((evidence) => {\n    evidences = {\n      ...evidences,\n      [evidence.key]: false,\n    };\n  });\n\n  return evidences;\n};\n\nconst prepareDefaultQuestState = () => {\n  let quests;\n  QUESTS.forEach((quest) => {\n    quests = {\n      ...quests,\n      [quest.key]: false,\n    };\n  });\n\n  return quests;\n};\n\nconst defaultState = {\n  selectedEvidences: [],\n  ghosts,\n  evidenceButtons: prepareDefaultEvidenceState(),\n  questButtons: prepareDefaultQuestState(),\n  talksToEveryOne: false,\n  ghostName: '',\n  clients: [],\n};\n\nconst picker = (state = defaultState, action) => {\n  switch (action.type) {\n    case FILTER_GHOSTS: {\n      const { evidence, isActive } = action;\n      const { selectedEvidences } = state;\n\n      const updatedButtonsState = {\n        ...state.evidenceButtons,\n        [evidence]: isActive,\n      };\n\n      if (isActive) {\n        selectedEvidences.push(evidence);\n\n        const filteredGhosts = filterGhostsByEvidences(ghosts, selectedEvidences);\n\n        return {\n          ...state,\n          ghosts: filteredGhosts,\n          selectedEvidences,\n          evidenceButtons: updatedButtonsState,\n        };\n      }\n\n      remove(selectedEvidences, (el) => el === evidence);\n\n      const filteredGhosts = filterGhostsByEvidences(ghosts, selectedEvidences);\n\n      return {\n        ...state,\n        ghosts: filteredGhosts,\n        selectedEvidences,\n        evidenceButtons: updatedButtonsState,\n      };\n    }\n\n    case UPDATE_GHOST_NAME: {\n      const { name } = action;\n\n      return {\n        ...state,\n        ghostName: name,\n      };\n    }\n\n    case UPDATE_SELECTED_QUESTS: {\n      const { quest, isActive } = action;\n\n      return {\n        ...state,\n        questButtons: {\n          ...state.questButtons,\n          [quest]: isActive,\n        },\n      };\n    }\n\n    case UPDATE_ANSWERS_EVERYONE_BUTTON: {\n      const { isActive } = action;\n\n      return {\n        ...state,\n        talksToEveryOne: isActive,\n      };\n    }\n\n    case RESET_PICKER: {\n      return {\n        ...defaultState,\n        selectedEvidences: [],\n      };\n    }\n\n    case SET_PICKER_STATE: {\n      const { data } = action;\n      const selectedEvidences = get(data, 'selectedEvidences', []);\n\n      return {\n        ...state,\n        ...data,\n        selectedEvidences,\n        ghosts: filterGhostsByEvidences(ghosts, selectedEvidences),\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default picker;\n","import {\n  SHOW_LOADER, HIDE_LOADER,\n} from '../actions';\n\nconst loader = (state = false, action) => {\n  switch (action.type) {\n    case SHOW_LOADER: {\n      return true;\n    }\n\n    case HIDE_LOADER: {\n      return false;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default loader;\n","import { combineReducers } from 'redux';\n\nimport app from './app';\nimport picker from './picker';\nimport loader from './loader';\n\nexport default combineReducers({\n  app,\n  picker,\n  loader,\n});\n","import { firebaseDB } from '../firebase';\nimport { generateTimestamp } from '../utils';\n\nclass FirebaseDataService {\n  getSessionById(sessionId) {\n    return firebaseDB.ref()\n      .orderByChild('sessionId')\n      .equalTo(sessionId)\n      .once('value');\n  }\n\n  createSession(session) {\n    return firebaseDB.ref().push({\n      ...session,\n      last_updated: generateTimestamp(),\n    });\n  }\n\n  updateSession(key, value) {\n    return firebaseDB.ref().child(key).update({\n      ...value,\n      last_updated: generateTimestamp(),\n    });\n  }\n\n  removeSession(key) {\n    return firebaseDB.ref().child(key).remove();\n  }\n\n  getRef() {\n    return firebaseDB.ref();\n  }\n}\n\nexport default new FirebaseDataService();\n","export const pageSelector = (state) => state.app.page;\n\nexport const sessionIdSelector = (state) => state.app.sessionId;\n\nexport const sessionKeySelector = (state) => state.app.sessionKey;\n\nexport const clientIdSelector = (state) => state.app.clientId;\n\nexport const selectedEvidencesSelector = (state) => state.picker.selectedEvidences;\n\nexport const questButtonsStateSelector = (state) => state.picker.questButtons;\n\nexport const clientsSelector = (state) => state.picker.clients;\n\nexport const isActiveButtonSelector = (state, type, name) => {\n  switch (type) {\n    case 'evidence': {\n      return state.picker.evidenceButtons[name];\n    }\n\n    case 'quest': {\n      return state.picker.questButtons[name];\n    }\n\n    case 'talksToEveryOne': {\n      return state.picker.talksToEveryOne;\n    }\n\n    default: {\n      return false;\n    }\n  }\n};\n\nexport const loaderStateSelector = (state) => state.loader;\n\nexport const pickerStateSelector = (state) => state.picker;\n\nexport const currentLangSelector = (state) => state.app.lang;\n","import {\n  call, put, takeEvery, select, takeLatest,\n} from 'redux-saga/effects';\n\nimport { get, remove, debounce } from 'lodash';\n\nimport firebaseDataService from '../services/firebaseData';\nimport {\n  sessionKeySelector, pickerStateSelector,\n  sessionIdSelector, clientIdSelector, clientsSelector,\n} from '../selectors';\n\nimport {\n  getSessionById, generateUuid, getUserLanguage, saveUserLanguage,\n} from '../utils';\n\nimport {\n  ENTER_APP, RESET_SESSION, UPDATE_ANSWERS_EVERYONE_BUTTON, INIT_APP, SET_APP_LANG,\n  UPDATE_SELECTED_QUESTS, UPDATE_GHOST_NAME, FILTER_GHOSTS, RESET_PICKER,\n  setPickerState, resetSessionComplete, resetPicker, setSessionKey,\n  setClientId, setAppLang,\n} from '../actions';\n\nconst updateDebounced = debounce(firebaseDataService.updateSession, 800);\n\nconst createPickerStateObject = (picker, sessionId) => {\n  const {\n    selectedEvidences, evidenceButtons, questButtons,\n    talksToEveryOne, ghostName,\n  } = picker;\n\n  return {\n    sessionId,\n    selectedEvidences,\n    evidenceButtons,\n    questButtons,\n    talksToEveryOne,\n    ghostName,\n  };\n};\n\nfunction* enterApp(action) {\n  const { sessionId } = action;\n  const clientId = generateUuid();\n\n  if (sessionId !== '') {\n    const data = yield call(firebaseDataService.getSessionById, sessionId);\n    const session = getSessionById(sessionId, data.val());\n\n    if (session) {\n      const key = Object.keys(data.val())[0];\n      const clients = get(session, 'clients', []);\n      clients.push(clientId);\n\n      yield call(\n        firebaseDataService.updateSession,\n        key,\n        {\n          ...session,\n          clients,\n        },\n      );\n\n      yield put(setPickerState(session));\n      yield put(setSessionKey(key));\n    } else {\n      const picker = yield select(pickerStateSelector);\n      const objectToStore = createPickerStateObject(picker, sessionId);\n\n      const newSessionKey = yield call(\n        firebaseDataService.createSession,\n        {\n          ...objectToStore,\n          clients: [clientId],\n        },\n      );\n      yield put(setSessionKey(newSessionKey.key));\n    }\n\n    yield put(setClientId(clientId));\n  }\n}\n\nfunction* removeSession() {\n  const sessionId = yield select(sessionIdSelector);\n\n  if (sessionId === '') {\n    yield put(resetSessionComplete());\n    yield put(resetPicker());\n    return;\n  }\n\n  const clientId = yield select(clientIdSelector);\n  const key = yield select(sessionKeySelector);\n  const clients = yield select(clientsSelector);\n\n  if (clients.length < 2) {\n    yield call(firebaseDataService.removeSession, key);\n  } else {\n    const picker = yield select(pickerStateSelector);\n    const objectToStore = createPickerStateObject(picker, sessionId);\n\n    remove(clients, (el) => el === clientId);\n\n    yield call(\n      firebaseDataService.updateSession,\n      key,\n      {\n        ...objectToStore,\n        clients,\n      },\n    );\n  }\n\n  yield put(resetSessionComplete());\n  yield put(resetPicker());\n}\n\nfunction* handlePickerChange() {\n  const sessionKey = yield select(sessionKeySelector);\n  const sessionId = yield select(sessionIdSelector);\n  const picker = yield select(pickerStateSelector);\n\n  const objectToStore = createPickerStateObject(picker, sessionId);\n\n  if (sessionKey && sessionId !== '') {\n    yield call(updateDebounced, sessionKey, objectToStore);\n    return;\n  }\n\n  if (!sessionKey && sessionId.length > 0) {\n    const newSessionKey = yield call(firebaseDataService.createSession, objectToStore);\n    yield put(setSessionKey(newSessionKey.key));\n  }\n}\n\nfunction* init() {\n  const userLang = getUserLanguage();\n\n  yield put(setAppLang(userLang));\n}\n\nfunction* updateUserLang(action) {\n  const { newLang } = action;\n\n  yield call(saveUserLanguage, newLang);\n}\n\nfunction* rootSaga() {\n  yield takeEvery(INIT_APP, init);\n  yield takeEvery(SET_APP_LANG, updateUserLang);\n  yield takeEvery(ENTER_APP, enterApp);\n  yield takeEvery(RESET_SESSION, removeSession);\n  yield takeLatest([\n    UPDATE_GHOST_NAME,\n    UPDATE_SELECTED_QUESTS,\n    UPDATE_ANSWERS_EVERYONE_BUTTON,\n    FILTER_GHOSTS,\n    RESET_PICKER,\n  ], handlePickerChange);\n}\n\nexport default rootSaga;\n","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport reducer from './reducers';\nimport rootSaga from './sagas';\nimport { isDevEnv } from './utils';\n\nconst configureStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n\n  const store = createStore(\n    reducer,\n    isDevEnv()\n      ? composeWithDevTools(applyMiddleware(sagaMiddleware))\n      : applyMiddleware(sagaMiddleware),\n  );\n\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n};\n\nexport default configureStore;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles({\n  wrapper: {\n    height: '100%',\n    alignItems: 'center',\n  },\n\n  menuButton: {\n    height: '100%',\n    borderRadius: 5,\n  },\n});\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport useStyles from './styles';\nimport { setAppLang } from '../../actions';\n\nconst LangSwitch = () => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const css = useStyles();\n  const dispatch = useDispatch();\n  const { formatMessage } = useIntl();\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuItemClick = (lang) => {\n    handleClose();\n    dispatch(setAppLang(lang));\n  };\n\n  return (\n    <div className={css.wrapper}>\n      <Tooltip title={formatMessage({ id: 'header.tooltip.lang' })}>\n        <IconButton className={css.menuButton} onClick={handleClick}>\n          <LanguageIcon />\n        </IconButton>\n      </Tooltip>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem dense onClick={() => handleMenuItemClick('en')}>English</MenuItem>\n        <MenuItem dense onClick={() => handleMenuItemClick('ru')}>Русский</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nexport default LangSwitch;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles({\n  header: {\n    display: 'flex',\n    height: 40,\n    width: '100%',\n    background: 'rgba(33, 33, 33, .6)',\n    justifyContent: 'space-between',\n    position: 'fixed',\n    zIndex: 10,\n    color: 'white',\n  },\n\n  navWrapper: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n  },\n\n  sessionWrapper: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n  },\n\n  sessionIdWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    marginRight: 5,\n  },\n\n  headerButton: {\n    borderRadius: 5,\n  },\n\n  btnActive: {\n    color: '#f34423',\n    borderBottom: '2px solid #f34423',\n  },\n});\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport clipboardCopy from 'clipboard-copy';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport IconButton from '@material-ui/core/IconButton';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport AssignmentIndOutlinedIcon from '@material-ui/icons/AssignmentIndOutlined';\n\nimport LangSwitch from '../LangSwitch/LangSwitch';\n\nimport { changePage } from '../../actions';\nimport { pageSelector, sessionIdSelector } from '../../selectors';\n\nimport useStyles from './styles';\n\nconst Header = ({ resetSession }) => {\n  const dispatch = useDispatch();\n  const css = useStyles();\n  const { formatMessage } = useIntl();\n\n  const sessionId = useSelector((state) => sessionIdSelector(state));\n  const page = useSelector((state) => pageSelector(state));\n\n  const [copyHintText, setCopyHintText] = useState('Click to copy');\n\n  const handleChangePage = (newPage) => {\n    dispatch(changePage(newPage));\n  };\n\n  const handleCopySessionIdClick = () => {\n    clipboardCopy(sessionId).then(() => {\n      setCopyHintText(formatMessage({ id: 'header.tooltip.copied' }));\n\n      setTimeout(() => {\n        setCopyHintText(formatMessage({ id: 'header.tooltip.copy' }));\n      }, 5000);\n    });\n  };\n\n  return (\n    <div className={css.header}>\n      <div className={css.navWrapper}>\n        <Tooltip title={formatMessage({ id: 'header.tooltip.picker' })}>\n          <IconButton onClick={() => handleChangePage('picker')} className={css.headerButton}>\n            <AssignmentIndOutlinedIcon className={page === 'picker' ? css.btnActive : ''} />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title={formatMessage({ id: 'header.tooltip.questions' })}>\n          <IconButton onClick={() => handleChangePage('questions')} className={css.headerButton}>\n            <HelpOutlineIcon className={page === 'questions' ? css.btnActive : ''} />\n          </IconButton>\n        </Tooltip>\n        <LangSwitch />\n      </div>\n      <div className={css.sessionWrapper}>\n        {\n          sessionId !== '' && (\n            <div className={css.sessionIdWrapper}>\n              <Typography>\n                {formatMessage({ id: 'header.sessionId' })}\n                :\n              </Typography>\n              <Tooltip title={copyHintText}>\n                <Button\n                  onClick={handleCopySessionIdClick}\n                  className={css.headerButton}\n                >\n                  {sessionId}\n                </Button>\n              </Tooltip>\n            </div>\n          )\n        }\n        <Tooltip title={formatMessage({ id: 'header.tooltip.exit' })}>\n          <IconButton onClick={() => resetSession()} className={css.headerButton}>\n            <ExitToAppIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  resetSession: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles({\n  button: {\n    color: (props) => props.color,\n    margin: '0 5px',\n  },\n\n  buttonSelected: {\n    color: (props) => props.color,\n    borderBottom: '2px solid red',\n    margin: '0 2px',\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { Button } from '@material-ui/core';\n\nimport useStyles from './styles';\n\nimport { isActiveButtonSelector } from '../../../selectors';\n\nconst CustomButton = ({\n  type, text, handleClick, ...props\n}) => {\n  const css = useStyles(props);\n\n  const isActive = useSelector((state) => isActiveButtonSelector(state, type, text));\n\n  return (\n    <Button\n      className={isActive ? css.buttonSelected : css.button}\n      onClick={() => handleClick(text, !isActive)}\n    >\n      {text}\n    </Button>\n  );\n};\n\nCustomButton.propTypes = {\n  type: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default CustomButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport { Button } from '@material-ui/core';\n\nimport useStyles from './styles';\n\nimport { isActiveButtonSelector } from '../../../selectors';\n\nconst EvidenceButton = ({\n  evidence, handleClick, ...props\n}) => {\n  const css = useStyles(props);\n  const { formatMessage } = useIntl();\n\n  const isActive = useSelector((state) => isActiveButtonSelector(state, 'evidence', evidence.key));\n\n  return (\n    <Button\n      className={isActive ? css.buttonSelected : css.button}\n      onClick={() => handleClick(evidence.key, !isActive)}\n    >\n      {formatMessage({ id: evidence.localizedMessageId })}\n    </Button>\n  );\n};\n\nEvidenceButton.propTypes = {\n  evidence: PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    localizedMessageId: PropTypes.string.isRequired,\n    color: PropTypes.string.isRequired,\n  }).isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default EvidenceButton;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles(() => ({\n  root: {\n    width: 200,\n    padding: 20,\n    '@media screen and (max-width: 570px)': {\n      width: '100%',\n      padding: '20px 0',\n    },\n  },\n\n  content: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n\n  accent: {\n    color: 'green',\n  },\n\n  header: {\n    color: 'red',\n  },\n\n  subHeader: {\n    color: '#fdcf96',\n  },\n}));\n","import React, { useState, useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Fade from '@material-ui/core/Fade';\n\nimport { getEvidenceNameByKey } from '../../../utils';\n\nimport useStyles from './styles';\n\nconst GhostCard = ({ data, selectedEvidences }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const css = useStyles();\n  const { formatMessage } = useIntl();\n\n  const {\n    name, strength, weakness, evidences,\n  } = data;\n\n  useEffect(() => {\n    setIsOpen(true);\n\n    return (() => {\n      setIsOpen(false);\n    });\n  }, []);\n\n  return (\n    <Fade in={isOpen} timeout={1000}>\n      <Box className={css.root}>\n        <Typography variant=\"h4\" className={css.header}>{formatMessage({ id: name })}</Typography>\n        <Typography variant=\"h6\" className={css.subHeader}>{formatMessage({ id: 'ghostCard.evidences' })}</Typography>\n        {\n          evidences.map((el) => (\n            <Box key={el}>\n              <Typography className={selectedEvidences.includes(el) ? css.accent : ''}>\n                {formatMessage({ id: getEvidenceNameByKey(el) })}\n              </Typography>\n            </Box>\n          ))\n        }\n        <Typography variant=\"h6\" className={css.subHeader}>{formatMessage({ id: 'ghostCard.strength' })}</Typography>\n        <Typography className={css.content}>{formatMessage({ id: strength })}</Typography>\n        <Typography variant=\"h6\" className={css.subHeader}>{formatMessage({ id: 'ghostCard.weakness' })}</Typography>\n        <Typography className={css.content}>{formatMessage({ id: weakness })}</Typography>\n      </Box>\n    </Fade>\n  );\n};\n\nGhostCard.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string,\n    evidences: PropTypes.arrayOf(PropTypes.string).isRequired,\n    strength: PropTypes.string.isRequired,\n    weakness: PropTypes.string.isRequired,\n  }).isRequired,\n  selectedEvidences: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default GhostCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport { Button } from '@material-ui/core';\n\nimport useStyles from './styles';\n\nimport { isActiveButtonSelector } from '../../../selectors';\n\nconst QuestButton = ({\n  quest, handleClick, ...props\n}) => {\n  const css = useStyles(props);\n  const { formatMessage } = useIntl();\n\n  const isActive = useSelector((state) => isActiveButtonSelector(state, 'quest', quest.key));\n\n  return (\n    <Button\n      className={isActive ? css.buttonSelected : css.button}\n      onClick={() => handleClick(quest.key, !isActive)}\n    >\n      {formatMessage({ id: quest.localizedMessageId })}\n    </Button>\n  );\n};\n\nQuestButton.propTypes = {\n  quest: PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    localizedMessageId: PropTypes.string.isRequired,\n  }).isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default QuestButton;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(({ palette }) => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    minHeight: '100%',\n    padding: 0,\n    background: palette.primary.main,\n    color: palette.primary.contrastText,\n  },\n\n  inputWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: '20px 20px',\n    flexWrap: 'wrap',\n  },\n\n  evidencesButtonsWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: '20px px',\n    flexWrap: 'wrap',\n    margin: '5px 0',\n  },\n\n  ghostsWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'center',\n    justifyContent: 'center',\n    padding: '0 50px',\n  },\n\n  noEvidenceWrapper: {\n    padding: 50,\n  },\n\n  header: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: 40,\n  },\n}));\n","import React, { useEffect } from 'react';\nimport { isEmpty } from 'lodash';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useIntl } from 'react-intl';\n\nimport Slide from '@material-ui/core/Slide';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport EVIDENCES from '../../data/evidences';\nimport QUESTS from '../../data/quests';\n\nimport { pickerStateSelector, sessionIdSelector, sessionKeySelector } from '../../selectors';\n\nimport {\n  updateGhostName, filterGhosts, updateSelectedQuests,\n  resetPicker, updateAnswersEveryoneButton, resetSession as resetSessionAction, setPickerState,\n} from '../../actions';\n\nimport CustomButton from './Buttons/CustomButton';\nimport EvidenceButton from './Buttons/EvidenceButton';\nimport GhostCard from './GhostCard';\nimport QuestButton from './Buttons/QuestButton';\n\nimport useStyles from './styles';\nimport firebaseDataService from '../../services/firebaseData';\nimport { analytics } from '../../firebase';\n\nconst Picker = () => {\n  const dispatch = useDispatch();\n  const css = useStyles();\n  const { formatMessage } = useIntl();\n\n  const pickerState = useSelector((state) => pickerStateSelector(state));\n  const sessionId = useSelector((state) => sessionIdSelector(state));\n  const sessionKey = useSelector((state) => sessionKeySelector(state));\n\n  useEffect(() => {\n    analytics.logEvent('page_view', {\n      page_title: 'Picker',\n    });\n  }, []);\n\n  useEffect(() => {\n    const onUnload = () => {\n      dispatch(resetSessionAction());\n    };\n\n    window.addEventListener('beforeunload', onUnload);\n\n    return () => {\n      window.removeEventListener('beforeunload', onUnload);\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (sessionKey) {\n      firebaseDataService.getRef().child(sessionKey).on('value', (data) => {\n        dispatch(setPickerState(data.val()));\n      });\n    }\n  }, [dispatch, sessionId, sessionKey]);\n\n  const handleGhostNameChange = (name) => {\n    dispatch(updateGhostName(name));\n  };\n\n  const handleEvidenceButtonClick = (evidence, isActive) => {\n    dispatch(filterGhosts(evidence, isActive));\n  };\n\n  const handleQuestButtonClick = (quest, isActive) => {\n    dispatch(updateSelectedQuests(quest, isActive));\n  };\n\n  const handleAnswersEveryoneButton = (text, isActive) => {\n    dispatch(updateAnswersEveryoneButton(isActive));\n  };\n\n  const handleReset = () => {\n    dispatch(resetPicker());\n  };\n\n  const { ghostName, ghosts, selectedEvidences } = pickerState;\n\n  return (\n    <Slide direction=\"right\" in mountOnEnter unmountOnExit>\n      <Box className={css.wrapper}>\n        <Box className={css.header}>\n          <Typography variant=\"h3\">{formatMessage({ id: 'picker.header' })}</Typography>\n        </Box>\n        <Box className={css.inputWrapper}>\n          <TextField\n            id=\"ghost-name\"\n            label={formatMessage({ id: 'picker.ghostName' })}\n            variant=\"outlined\"\n            value={ghostName}\n            onChange={(e) => handleGhostNameChange(e.target.value)}\n          />\n          <CustomButton\n            type=\"talksToEveryOne\"\n            color=\"grey\"\n            text={formatMessage({ id: 'picker.answersEveryone' })}\n            handleClick={handleAnswersEveryoneButton}\n          />\n          <CustomButton\n            type=\"reset\"\n            color=\"grey\"\n            text={formatMessage({ id: 'picker.reset' })}\n            handleClick={handleReset}\n          />\n        </Box>\n        <Typography variant=\"h4\">{formatMessage({ id: 'evidences' })}</Typography>\n        <Box className={css.evidencesButtonsWrapper}>\n          {\n            EVIDENCES.map((evidence) => (\n              <EvidenceButton\n                key={evidence.key}\n                evidence={evidence}\n                color={evidence.color}\n                handleClick={handleEvidenceButtonClick}\n              />\n            ))\n          }\n        </Box>\n        <Typography variant=\"h4\">{formatMessage({ id: 'quests' })}</Typography>\n        <Box className={css.evidencesButtonsWrapper}>\n          {\n            QUESTS.map((quest) => (\n              <QuestButton\n                key={quest.key}\n                quest={quest}\n                color=\"grey\"\n                handleClick={handleQuestButtonClick}\n              />\n            ))\n          }\n        </Box>\n        <Box className={css.ghostsWrapper}>\n          {\n            ghosts.map((ghost) => (\n              <GhostCard data={ghost} key={ghost.name} selectedEvidences={selectedEvidences} />\n            ))\n          }\n          {\n            isEmpty(ghosts) ? (\n              <Box className={css.noEvidenceWrapper}>\n                <Typography variant=\"h6\">\n                  No ghosts with such combination of evidences\n                </Typography>\n              </Box>\n            ) : null\n          }\n        </Box>\n      </Box>\n    </Slide>\n  );\n};\n\nexport default Picker;\n","export default {\n  SPIRIT_BOX: [\n    {\n      category: 'question.radio.aggression',\n      questions: [\n        'question.radio.aggression.1',\n        'question.radio.aggression.2',\n        'question.radio.aggression.3',\n        'question.radio.aggression.4',\n        'question.radio.aggression.5',\n        'question.radio.aggression.6',\n        'question.radio.aggression.7',\n        'question.radio.aggression.8',\n        'question.radio.aggression.9',\n        'question.radio.aggression.10',\n        'question.radio.aggression.11',\n        'question.radio.aggression.12',\n      ],\n    },\n    {\n      category: 'question.radio.location',\n      questions: [\n        'question.radio.location.1',\n        'question.radio.location.2',\n        'question.radio.location.3',\n        'question.radio.location.4',\n        'question.radio.location.5',\n        'question.radio.location.6',\n        'question.radio.location.7',\n        'question.radio.location.8',\n        'question.radio.location.9',\n        'question.radio.location.10',\n        'question.radio.location.11',\n        'question.radio.location.12',\n        'question.radio.location.13',\n        'question.radio.location.14',\n        'question.radio.location.15',\n        'question.radio.location.16',\n        'question.radio.location.17',\n      ],\n    },\n    {\n      category: 'question.radio.age',\n      questions: [\n        'question.radio.age.1',\n        'question.radio.age.2',\n        'question.radio.age.3',\n        'question.radio.age.4',\n        'question.radio.age.5',\n        'question.radio.age.6',\n        'question.radio.age.7',\n      ],\n    },\n    {\n      category: 'question.radio.misc',\n      questions: [\n        'question.radio.misc.1',\n        'question.radio.misc.2',\n        'question.radio.misc.3',\n        'question.radio.misc.4',\n        'question.radio.misc.5',\n        'question.radio.misc.6',\n        'question.radio.misc.7',\n        'question.radio.misc.8',\n      ],\n    },\n  ],\n\n  OUIJA_BOARD: [\n    {\n      category: 'question.ouija.victim',\n      questions: [\n        'question.ouija.victim.1',\n        'question.ouija.victim.2',\n        'question.ouija.victim.3',\n        'question.ouija.victim.4',\n        'question.ouija.victim.5',\n        'question.ouija.victim.6',\n        'question.ouija.victim.7',\n        'question.ouija.victim.8',\n      ],\n    },\n    {\n      category: 'question.ouija.age',\n      questions: [\n        'question.ouija.age.1',\n        'question.ouija.age.2',\n        'question.ouija.age.3',\n        'question.ouija.age.4',\n      ],\n    },\n    {\n      category: 'question.ouija.death',\n      questions: [\n        'question.ouija.death.1',\n        'question.ouija.death.2',\n        'question.ouija.death.3',\n        'question.ouija.death.4',\n        'question.ouija.death.5',\n      ],\n    },\n    {\n      category: 'question.ouija.room',\n      questions: [\n        'question.ouija.room.1',\n        'question.ouija.room.2',\n        'question.ouija.room.3',\n        'question.ouija.room.4',\n        'question.ouija.room.5',\n        'question.ouija.room.6',\n        'question.ouija.room.7',\n        'question.ouija.room.8',\n        'question.ouija.room.9',\n      ],\n    },\n    {\n      category: 'question.ouija.location',\n      questions: [\n        'question.ouija.location.1',\n        'question.ouija.location.2',\n        'question.ouija.location.3',\n        'question.ouija.location.4',\n        'question.ouija.location.5',\n        'question.ouija.location.6',\n        'question.ouija.location.7',\n        'question.ouija.location.8',\n        'question.ouija.location.9',\n      ],\n    },\n  ],\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(({ palette }) => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    minHeight: '100%',\n    padding: 0,\n    background: palette.primary.main,\n    color: palette.primary.contrastText,\n    overflowX: 'hidden',\n  },\n\n  header: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: 40,\n  },\n\n  pageLabel: {\n    margin: '0 auto',\n  },\n\n  questionsWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    width: '100%',\n    alignItems: 'flex-start',\n    padding: 20,\n  },\n\n  toolWrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n  },\n\n  toolHeader: {\n    width: '100%',\n    textAlign: 'center',\n    color: '#fdcf96',\n  },\n\n  toolContent: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    flexWrap: 'wrap',\n    '@media screen and (max-width: 880px)': {\n      justifyContent: 'flex-start',\n    },\n  },\n\n  categoryTitle: {\n    color: 'red',\n  },\n\n  categoryWrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: 20,\n  },\n}));\n","import React, { useCallback, useEffect } from 'react';\nimport { useIntl } from 'react-intl';\n\nimport Box from '@material-ui/core/Box';\nimport Slide from '@material-ui/core/Slide';\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\n\nimport QUESTIONS from '../../data/questions';\nimport { analytics } from '../../firebase';\n\nimport useStyles from './styles';\n\nconst Questions = () => {\n  const css = useStyles();\n  const { formatMessage } = useIntl();\n\n  useEffect(() => {\n    analytics.logEvent('page_view', {\n      page_title: 'Questions',\n    });\n  }, []);\n\n  const renderCategory = useCallback((block) => (\n    <Box className={css.categoryWrapper} key={block.category}>\n      <Typography variant=\"h6\" className={css.categoryTitle}>{formatMessage({ id: block.category })}</Typography>\n      {\n          block.questions.map((q) => (\n            <Typography key={q}>{formatMessage({ id: q })}</Typography>\n          ))\n        }\n    </Box>\n  ), [formatMessage, css]);\n\n  return (\n    <Slide direction=\"left\" in mountOnEnter unmountOnExit>\n      <Fade in timeout={1000}>\n        <Box className={css.wrapper}>\n          <Box className={css.header}>\n            <Typography variant=\"h3\" className={css.pageLabel}>{formatMessage({ id: 'questions' })}</Typography>\n          </Box>\n          <Box className={css.questionsWrapper}>\n            <Box className={css.toolWrapper}>\n              <Typography className={css.toolHeader} variant=\"h4\">\n                {formatMessage({ id: 'question.radio' })}\n              </Typography>\n              <Box className={css.toolContent}>\n                {\n                  QUESTIONS.SPIRIT_BOX.map((block) => renderCategory(block))\n                }\n              </Box>\n            </Box>\n            <Box className={css.toolWrapper}>\n              <Typography className={css.toolHeader} variant=\"h4\">\n                {formatMessage({ id: 'question.ouija' })}\n              </Typography>\n              <Box className={css.toolContent}>\n                {\n                  QUESTIONS.OUIJA_BOARD.map((block) => renderCategory(block))\n                }\n              </Box>\n            </Box>\n          </Box>\n        </Box>\n      </Fade>\n    </Slide>\n  );\n};\n\nexport default Questions;\n","import { makeStyles } from '@material-ui/core';\r\n\r\nexport default makeStyles({\r\n  activeAbsolute: {\r\n    position: 'absolute',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    height: '100%',\r\n    zIndex: 20,\r\n    backgroundColor: 'rgba(0, 0, 0, .6)',\r\n  },\r\n\r\n  activeBox: {\r\n    width: '100%',\r\n  },\r\n\r\n  disabled: {\r\n    display: 'none',\r\n  },\r\n});\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { loaderStateSelector } from '../../selectors';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst Loader = ({ type }) => {\r\n  const css = useStyles();\r\n  const isShown = useSelector((state) => loaderStateSelector(state));\r\n\r\n  const wrapperStyle = type === 'linear' ? css.activeBox : css.activeAbsolute;\r\n  const isActive = isShown ? '' : css.disabled;\r\n\r\n  return (\r\n    <div className={`${wrapperStyle} ${isActive}`}>\r\n      {\r\n        type === 'linear' ? (\r\n          <LinearProgress />\r\n        ) : (\r\n          <CircularProgress color=\"secondary\" />\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nLoader.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(({ palette }) => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    minHeight: '100%',\n    background: palette.primary.main,\n    color: palette.primary.contrastText,\n  },\n\n  subWrapper: {\n    padding: 5,\n    backgroundColor: 'rgba(0, 0, 0, .3)',\n    borderRadius: 10,\n  },\n\n  inputWrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: '10px 20px 10px 20px',\n  },\n\n  submitButton: {\n    marginTop: 5,\n  },\n\n  langSwitchWrapper: {\n    position: 'absolute',\n    right: '20px',\n    bottom: '20px',\n  },\n}));\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { isEmpty } from 'lodash';\nimport { useIntl } from 'react-intl';\n\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\n\nimport Loader from '../Loader';\nimport LangSwitch from '../LangSwitch/LangSwitch';\n\nimport { enterApp, showLoader, hideLoader } from '../../actions';\nimport { getSessionId, setSessionId, generateUuid } from '../../utils';\nimport firebaseDataService from '../../services/firebaseData';\n\nimport useStyles from './styles';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const css = useStyles();\n  const { formatMessage } = useIntl();\n\n  const [sessionId, changeSessionId] = useState('');\n  const [session, setSession] = useState({});\n  const [error, setError] = useState(null);\n  const [isJoinButtonPressed, setIsJoinButtonPressed] = useState(false);\n\n  const sessionIdCookie = getSessionId();\n\n  useEffect(() => {\n    if (sessionIdCookie || sessionIdCookie === '') {\n      dispatch(enterApp('picker', sessionIdCookie));\n    }\n  }, [dispatch, sessionIdCookie]);\n\n  useEffect(() => {\n    if (session && !isEmpty(session)) {\n      setSessionId(sessionId);\n      dispatch(enterApp('picker', sessionId));\n    }\n  });\n\n  useEffect(() => {\n    if (!session) {\n      setError(formatMessage({ id: 'login.error.notFound' }));\n    }\n  }, [session, formatMessage]);\n\n  const validate = () => {\n    if (sessionId.length !== 6) {\n      setError(formatMessage({ id: 'login.error.length' }));\n      return false;\n    }\n\n    if (!(/^[0-9]+$/).test(sessionId)) {\n      setError(formatMessage({ id: 'login.error.format' }));\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSessionIdChange = (value) => {\n    setSession({});\n    setError(null);\n    changeSessionId(value);\n  };\n\n  const handleCreateClick = (e) => {\n    e.preventDefault();\n    const id = generateUuid();\n    dispatch(enterApp('picker', id));\n    setSessionId(id);\n  };\n\n  const handleClickJoin = (state) => {\n    setIsJoinButtonPressed(state);\n  };\n\n  const handleJoinSession = () => {\n    if (validate()) {\n      dispatch(showLoader());\n      firebaseDataService.getSessionById(sessionId).then((data) => {\n        dispatch(hideLoader());\n        setSession(data.val());\n      });\n    }\n  };\n\n  const handleSoloLobby = () => {\n    setSessionId('');\n    dispatch(enterApp('picker', ''));\n  };\n\n  return (\n    <Box className={css.wrapper}>\n      <Box className={css.subWrapper}>\n        {\n          isJoinButtonPressed ? (\n            <Box className={css.inputWrapper}>\n              <TextField\n                id=\"sessionID\"\n                label={formatMessage({ id: 'login.sessionId' })}\n                variant=\"outlined\"\n                value={sessionId}\n                error={!!error}\n                helperText={error}\n                onChange={(e) => handleSessionIdChange(e.target.value)}\n              />\n              <Button className={css.submitButton} onClick={handleJoinSession}>\n                {formatMessage({ id: 'login.join.proceed' })}\n              </Button>\n              <Divider />\n              <Button\n                className={css.submitButton}\n                onClick={() => handleClickJoin(false)}\n              >\n                {formatMessage({ id: 'login.back' })}\n              </Button>\n            </Box>\n          ) : (\n            <Box className={css.inputWrapper}>\n              <Button\n                className={css.submitButton}\n                onClick={handleCreateClick}\n              >\n                {formatMessage({ id: 'login.create' })}\n              </Button>\n              <Divider />\n              <Button\n                className={css.submitButton}\n                onClick={() => handleClickJoin(true)}\n              >\n                {formatMessage({ id: 'login.join' })}\n              </Button>\n              <Divider />\n              <Button\n                className={css.submitButton}\n                onClick={handleSoloLobby}\n              >\n                {formatMessage({ id: 'login.solo' })}\n              </Button>\n            </Box>\n          )\n        }\n        <Loader type=\"linear\" />\n      </Box>\n      <Box className={css.langSwitchWrapper}>\n        <LangSwitch />\n      </Box>\n    </Box>\n  );\n};\n\nexport default Login;\n","// import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { unstable_createMuiStrictModeTheme as createMuiTheme } from '@material-ui/core';\r\nimport grey from '@material-ui/core/colors/grey';\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    type: 'dark',\r\n\r\n    primary: {\r\n      main: grey[900],\r\n    },\r\n\r\n    secondary: {\r\n      main: grey[50],\r\n    },\r\n  },\r\n\r\n  overrides: {\r\n    MuiTypography: {\r\n      body1: {\r\n        fontFamily: 'SyneMono',\r\n        '@media screen and (max-width: 1000px)': {\r\n        },\r\n      },\r\n\r\n      h3: {\r\n        fontFamily: 'Teko-Medium',\r\n      },\r\n\r\n      h4: {\r\n        fontFamily: 'Teko-Medium',\r\n      },\r\n\r\n      h5: {\r\n        fontFamily: 'Teko-Medium',\r\n      },\r\n\r\n      h6: {\r\n        fontFamily: 'Teko-Medium',\r\n      },\r\n    },\r\n  },\r\n});\r\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { IntlProvider } from 'react-intl';\n\nimport {\n  changePage, resetSession,\n} from '../actions';\n\nimport langEN from '../lang/en.json';\nimport langRU from '../lang/ru.json';\n\nimport { pageSelector, currentLangSelector } from '../selectors';\n\nimport { resetSessionId } from '../utils';\n\nimport Header from './Header';\nimport Picker from './Picker';\nimport Questions from './Questions';\nimport Login from './Login';\n\nimport theme from './theme';\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const page = useSelector((state) => pageSelector(state));\n  const lang = useSelector((state) => currentLangSelector(state));\n\n  const handleChangePage = (newPage) => {\n    dispatch(changePage(newPage));\n  };\n\n  const handleSessionReset = () => {\n    resetSessionId();\n    dispatch(resetSession());\n  };\n\n  const renderPage = () => {\n    switch (page) {\n      case 'picker':\n        return (\n          <>\n            <Header resetSession={handleSessionReset} />\n            <Picker\n              changePage={handleChangePage}\n              resetSession={handleSessionReset}\n            />\n          </>\n        );\n      case 'questions':\n        return (\n          <>\n            <Header resetSession={handleSessionReset} />\n            <Questions changePage={handleChangePage} />\n          </>\n        );\n      default:\n        return (\n          <Login />\n        );\n    }\n  };\n\n  const setUpMessagesLocale = () => {\n    switch (lang) {\n      case 'en': {\n        return langEN;\n      }\n\n      case 'ru': {\n        return langRU;\n      }\n\n      default: {\n        return langEN;\n      }\n    }\n  };\n\n  return (\n    <IntlProvider messages={setUpMessagesLocale()} locale=\"en\" defaultLocale=\"en\">\n      <ThemeProvider theme={theme}>\n        {renderPage()}\n      </ThemeProvider>\n    </IntlProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport configureStore from './store';\nimport { initApp } from './actions';\n\nimport App from './components/App';\n\nimport './index.css';\n\nconst store = configureStore();\n\nstore.dispatch(initApp());\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}